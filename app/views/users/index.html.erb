<div class="mx-auto my-10 w-4/5 max-w-[1450px]">
  <%= render ContentCardComponent.new do %>
    <div class="flex items-center gap-3">
      <h1 class="text-3xl font-bold">Users</h1>
      <span class="badge badge-primary">Admin UI</span>

      <%= link_to new_user_path, data: { turbo_stream: true }, class: "text-base-100 bg-primary flex flex-row items-center gap-2 text-xs py-2.5 px-3 rounded" do %>
        <%= render IconComponent.new(icon: "add", size: :sm) %>
        <%= t(".create_user_button") %>
      <% end %>

    </div>
    <div class="w-2/5 mt-0 divider"></div>
    <div class="p-2 border border-base-300 rounded-lg bg-base-100">
      <%= render Shared::IndexTableComponent.new(records: @users) do |table| %>
        <% table.column :username %>
        <% table.column :roles do |user| %>
          <% user.user_roles.each do |role| %>
            <span class="badge badge-neutral mr-1"><%= role.role %></span>
          <% end %>
        <% end %>
        <% table.column :actions, header: "" do |user| %>
          <div class="flex gap-2">
            <%= link_to "Edit", edit_user_path(user), class: "btn btn-xs btn-outline btn-info" %>
            <%= button_to "Delete", user_path(user), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-xs btn-outline btn-error" %>
          </div>
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>
