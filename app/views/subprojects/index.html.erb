<div class="mx-8 my-10">
  <div class="flex items-center justify-between mb-5">
    <h1 class="text-4xl font-bold"><%= t(".title") %></h1>
    <%= link_to new_project_subproject_url(@project), data: { turbo_stream: true }, class: "btn btn-primary flex flex-row items-center gap-2 px-4 py-2 rounded shadow-none" do %>
      <%= render IconComponent.new(icon: "add", size: :sm) %>
      <%= t(".actions.create") %>
    <% end %>
  </div>
  <%= render ContentCardComponent.new do %>
    <%= render Shared::IndexTableComponent.new(records: @subprojects) do |table| %>
      <% table.column :name %>
      <% table.column :description %>
      <% table.column :address %>
      <% table.column :region do |subproject| %>
        <%= subproject.region.name %>
      <% end %>
      <% table.column :actions, header: t("shared.index_table_component.actions"), col_size: "90px" do |subproject| %>
        <div class="flex items-center gap-2">
          <%= render ActionButtonComponent.new(to: project_subproject_path(@project, subproject), icon: "view") %>
          <%= render ActionButtonComponent.new(to: edit_project_subproject_path(@project, subproject), icon: "edit", colour: :info) %>
          <%= render ActionButtonComponent.new(to: project_subproject_path(@project, subproject), method: :delete, icon: "delete", colour: :error, confirm: t("subprojects.destroy.confirm")) %>
        </div>
      <% end %>
    <% end %>
  <% end %>
</div>
